@model string
@{
    ViewBag.Title = "Album Details";
}


<div ng-controller="AlbumViewController" ng-init="init('@Model')">
    <h1>
        <div class="wrapper">
            {{album.Name}}
            <div class="arrow"></div>
        </div>
    </h1>
    <pagination total-items="Total" ng-model="CurrentPage" items-per-page="itemsPerPage" ng-change="pageChanged()"></pagination>
    <div class="contentbody">
        <div class="wrapper lightsidecol">
            <div id="maincol">
                <p>something</p>
                <div>
                    <ul uib-pagination total-items="Total" ng-model="CurrentPage" items-per-page="itemsPerPage" ng-change="pageChanged()"></ul>
                </div>
                <div class="album panel panel-primary">
                    <!--  <div class="album panel panel-primary" ng-repeat="album in albums | multifieldfilter:{ title: searchFor } "> -->
                    @*<div>
                            {{album | json}}
                        </div>*@

                    <div class="panel-heading">
                        <h4>{{ album.Name }}</h4>
                        <div class="title">{{ album.AlbumDate }}</div>
                    </div>
                    <div class="panel-body">
                        {{ album.Description }}
                    </div>
                </div>

                <div style="clear: left"></div>

                <a href="ResourceUploader?albumName={{album.Name}}">
                    <button type="button" class="btn btn-success">Add files to this album</button>
                </a>

                <md-autocomplete ng-disabled="false"
                                 md-no-cache="true"
                                 md-selected-item="selectedOption"
                                 md-search-text="searchText"
                                 md-items="item in options"
                                 md-item-text="item.Key"
                                 md-min-length="0"
                                 placeholder="Search query?">
                    <md-item-template>
                        <span md-highlight-text="searchText" md-highlight-flags="^i">{{item.Value}}</span>
                    </md-item-template>
                    <md-not-found>
                        No matches for "{{searchText}}" were found.
                    </md-not-found>
                </md-autocomplete>

                <div style="clear: left"></div>

                <div class="photo thumbnail" ng-repeat="resource in album.Resources | limitTo:20" style="width: 400px; float: left; margin-right: 10px">

                    <a href="resource/{{resource.Md5}}">
                        @*<img width="400px" data-ng-src="{{'data:image/png;base64,'+getImage(resource.Md5)}}" />*@
                        <img width="400px" src="/api/Resources/{{resource.Md5}}" />
                        {{resource.OriginalFileName}}
                    </a>
                    <p> {{ photo.Description }} </p>
                </div>

                <pagination total-items="Total" ng-model="CurrentPage" items-per-page="itemsPerPage" ng-change="pageChanged()"></pagination>
                <!--<ul uib-pagination total-items="Total" num-pages="5" items-per-page="$parent.filters.selections.CountPerPage" ng-model="$parent.filters.selections.PageNumber" max-size="5" class="pagination-sm" boundary-links="true" rotate="false"></ul>-->
                <p ng-if="($parent.filters.selections.PageNumber)*($parent.filters.selections.CountPerPage)<=Total">Showing {{($parent.filters.selections.PageNumber - 1)*$parent.filters.selections.CountPerPage + 1}} - {{($parent.filters.selections.PageNumber)*($parent.filters.selections.CountPerPage)}} of {{Total}}</p>
                <p ng-if="($parent.filters.selections.PageNumber)*($parent.filters.selections.CountPerPage)>Total">Showing {{($parent.filters.selections.PageNumber - 1)*$parent.filters.selections.CountPerPage + 1}} - {{Total}} of {{Total}}</p>

                <div style="clear: left"></div>



            </div>
        </div>
    </div>
</div>

